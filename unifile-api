Learning #opensource Unifile what does my code? Node, Express, API How does it work?

Here is an explanation, the most precise that is possible, to explain how this code works with the box-sdk for unifile.
It’s a way to understand how Node Js and Express Js do the job : exports, callback etc…
Initially this writing was a way for me to understand my code and to progress in the Node and « how to  do a good backend service properly »  understanding. I hope it might be helpful for you. :-)

Repository to use : https://github.com/C00kie-/unifile   forked from https://github.com/silexlabs/unifile.

Ok let's go!

Go into the file : ./lib/services/box.js

on the top. 
We've got includes.
        var box_sdk = require('box-sdk')
        var logLevel = 'debug';
        var fs = require('fs')
You need to include node modules to make your code work.
You use require() when defining the variable : var fs = require(‘fs)

note : no ; is necessary in node js for declaration. //can someone confirm that ?

Here you need to include the box-dk, that had been made my the guy https://www.npmjs.com/package/box-sdk

This SDK will make the link between your code and the service Box. It gives you high level instructions to use, instead of making all low-level operations by yourself.

You declare an array connectionArray that will store your connections’ID with a key value (it starts from 1)

You initiate the SDK. export.init
     with the parameter option, you give informations to allow the SDK initiate a connection with Box.
          stored like that in the main config file :
 exports.box =
{
    client_id: 'as0kfzqga2gmrgdy6kmsazz397aj0lxj',
  client_secret: 'Xg0rNV1ISgZZq9hoG8jpIvJBFvLrA84X',
    port: 9999,
  //host: 'somehost' //default localhost
}

You initiate a connection export.connect
     You use as parameters : request, response, next and cbk
We may take a moment, to explain how Request and Response work here.
What are cbk and next ?
